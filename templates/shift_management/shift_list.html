{% extends 'base.html' %}{% load static %} {% block title %} Available Shifts
{%endblock %} {%block content %}
<h2>Available Shifts</h2>
<div class="card mt-3">
  <div class="card-body">
    <form method="get" class="row g-3">
      <div class="col-md-4">
        <select name="role" class="form-select">
          <option value="">All Roles</option>
          {% for value, label in role_choices %}
          <option value="{{ value }}">{{ label }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col-md-4">
        <select name="store" class="form-select">
          <option value="">All Stores</option>
          {% for store in stores %}
          <option value="{{ store.id }}">{{ store.name }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col-md-4">
        <button type="submit" class="btn btn-primary">Filter</button>
      </div>
    </form>
  </div>
</div>

<div class="row mt-4">
  {% for shift in shifts %}
  <div class="col-md-6 mb-3">
    <div class="card">
      <div class="card-header bg-primary text-white">
        <h5>{{ shift.title }}</h5>
      </div>
      <div class="card-body">
        <p><strong>Store:</strong> {{ shift.store.name }}</p>
        <p><strong>Date:</strong> {{ shift.shift_date }}</p>
        <p>
          <strong>Time:</strong> {{ shift.start_time }} - {{ shift.end_time }}
        </p>
        <p><strong>Role:</strong> {{ shift.get_role_required_display }}</p>
        <p><strong>Available Slots:</strong> {{ shift.available_slots }}</p>
        <a href="{% url 'shift_detail' shift.id %}" class="btn btn-info"
          >View Details</a
        >
        {% if shift.can_volunteer %}
        <a
          href="{% url 'volunteer_for_shift' shift.id %}"
          class="btn btn-success"
          >Apply</a
        >
        {% endif %}
      </div>
    </div>
  </div>
  {% empty %}
  <p>No available shifts at the moment.</p>
  {% endfor %}
</div>
{% endblock %}
