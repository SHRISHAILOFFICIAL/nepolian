{% extends 'base.html' %}{% load static %} {% block title %} Available Shifts
{%endblock %} {%block content %}

<style>
  .page-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 20px;
    padding: 2.5rem;
    margin-bottom: 2rem;
    color: white;
    box-shadow: 0 10px 40px rgba(102, 126, 234, 0.3);
  }

  .page-header h2 {
    font-family: "Poppins", sans-serif;
    font-weight: 800;
    margin: 0;
    font-size: 2.2rem;
  }

  .filter-card {
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    border: none;
    padding: 1.5rem;
  }

  .shift-card {
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
    border: none;
    height: 100%;
    overflow: hidden;
  }

  .shift-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 16px 40px rgba(102, 126, 234, 0.2);
  }

  .shift-card .card-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 1.5rem;
    border: none;
  }

  .shift-card .card-header h5 {
    font-family: "Poppins", sans-serif;
    font-weight: 700;
    margin: 0;
  }

  .shift-card .card-body p {
    margin-bottom: 0.75rem;
    color: #666;
  }

  .shift-card .card-body p strong {
    color: #333;
    font-weight: 600;
  }

  .btn-primary,
  .btn-info,
  .btn-success {
    border-radius: 50px;
    padding: 0.5rem 1.5rem;
    font-weight: 600;
    transition: all 0.3s ease;
    border: none;
  }

  .btn-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
  }

  .btn-info {
    background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
  }

  .btn-success {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  }

  .btn-info:hover,
  .btn-success:hover {
    transform: translateY(-2px);
  }
</style>

<div class="page-header">
  <h2><i class="bi bi-calendar-check"></i> Available Shifts</h2>
</div>
<div class="filter-card">
  <form method="get" class="row g-3">
    <div class="col-md-4">
      <select name="role" class="form-select">
        <option value="">All Roles</option>
        {% for value, label in role_choices %}
        <option value="{{ value }}">{{ label }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-md-4">
      <select name="store" class="form-select">
        <option value="">All Stores</option>
        {% for store in stores %}
        <option value="{{ store.id }}">{{ store.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-md-4">
      <button type="submit" class="btn btn-primary">Filter</button>
    </div>
  </form>
</div>

<div class="row mt-4">
  {% for shift in shifts %}
  <div class="col-md-6 mb-4">
    <div class="shift-card card">
      <div class="card-header bg-primary text-white">
        <h5>{{ shift.title }}</h5>
      </div>
      <div class="card-body">
        <p><strong>Store:</strong> {{ shift.store.name }}</p>
        <p><strong>Date:</strong> {{ shift.shift_date }}</p>
        <p>
          <strong>Time:</strong> {{ shift.start_time }} - {{ shift.end_time }}
        </p>
        <p><strong>Role:</strong> {{ shift.get_role_required_display }}</p>
        <p><strong>Available Slots:</strong> {{ shift.available_slots }}</p>
        <a href="{% url 'shift_detail' shift.id %}" class="btn btn-info"
          >View Details</a
        >
        {% if shift.can_volunteer %}
        <a
          href="{% url 'volunteer_for_shift' shift.id %}"
          class="btn btn-success"
          >Apply</a
        >
        {% endif %}
      </div>
    </div>
  </div>
  {% empty %}
  <p>No available shifts at the moment.</p>
  {% endfor %}
</div>
{% endblock %}
